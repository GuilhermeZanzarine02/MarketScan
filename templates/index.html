<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Markt Scan — Price Scraper</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</head>
<body>
<div class="container mt-4">
    <h1>Markt Scan — Price Scraper</h1>

    <form method="POST" action="/" class="mt-4">
        <label for="store">Store:</label>
        <select name="store" id="store" required class="form-select mb-2">
            <option value="" selected>Select a store</option>
            <option value="amazon">Amazon</option>
            <option value="magalu">Magalu</option>
            <option value="americanas">Americanas</option>
        </select>

        <input type="text" name="url" id="url" placeholder="Product URL or search term" required class="form-control mb-2" />

        <label for="sort">Price order:</label>
        <select name="sort" id="sort" required class="form-select mb-2">
            <option value="" selected>Select an option</option>
            <option value="highest to lowest">Highest to Lowest</option>
            <option value="lowest to highest">Lowest to Highest</option>
            <option value="raw">Raw Data</option>
        </select>

        <label for="filetype">Save as:</label>
        <select name="filetype" id="filetype" required class="form-select mb-2">
            <option value="" selected>Select file type</option>
            <option value="excel(.xlsx)">Excel (.xlsx)</option>
            <option value="csv(.csv)">CSV (.csv)</option>
        </select>

        <label for="limit">Rows to include:</label>
        <input type="number" name="limit" id="limit" placeholder="e.g. 10" min="1" class="form-control mb-3" />

        <button type="submit" class="btn btn-primary">Download Data</button>
        <button type="reset" class="btn btn-secondary">Reset</button>
    </form>
</div>

{% if message %}
<div class="modal fade" id="messageModal" tabindex="-1" aria-labelledby="messageModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="messageModalLabel">Notice</h5>
      </div>
      <div class="modal-body">
        {{ message }}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">OK</button>
      </div>
    </div>
  </div>
</div>
{% endif %}

<script src="{{ url_for('static', filename='js/scripts.js') }}"></script>

</body>
</html>